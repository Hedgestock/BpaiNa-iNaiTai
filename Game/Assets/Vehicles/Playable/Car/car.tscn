[gd_scene load_steps=6 format=3 uid="uid://hqbgclj7m46o"]

[ext_resource type="Script" uid="uid://bcaecjnq3fl8a" path="res://Game/Assets/Vehicles/Playable/Car/car.gd" id="1_dnn4g"]
[ext_resource type="Texture2D" uid="uid://ba3xg0lo47c87" path="res://Game/Assets/Vehicles/Playable/Car/car.png" id="1_eww5f"]
[ext_resource type="PackedScene" uid="uid://dk0r60fvired1" path="res://Game/Assets/MiniMap/mini_map.tscn" id="2_txe26"]
[ext_resource type="PackedScene" uid="uid://2jb7kcappv42" path="res://Game/Assets/Wheel/wheel.tscn" id="3_2iwa8"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dnn4g"]
size = Vector2(180, 320)

[node name="Car" type="RigidBody2D" node_paths=PackedStringArray("direction_wheels", "power_wheels", "speed_label")]
script = ExtResource("1_dnn4g")
direction_wheels = [NodePath("WheelFL"), NodePath("WheelFR")]
power_wheels = [NodePath("WheelBL"), NodePath("WheelBR")]
speed_label = NodePath("Camera2D/CanvasLayer/Speed")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(12, -1567)
ignore_rotation = false
zoom = Vector2(0.5, 0.5)
position_smoothing_enabled = true
rotation_smoothing_enabled = true
editor_draw_drag_margin = true

[node name="CanvasLayer" type="CanvasLayer" parent="Camera2D"]

[node name="SubViewportContainer" type="SubViewportContainer" parent="Camera2D/CanvasLayer"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -40.0
offset_bottom = 40.0
grow_horizontal = 0

[node name="SubViewport" type="SubViewport" parent="Camera2D/CanvasLayer/SubViewportContainer"]
transparent_bg = true
handle_input_locally = false
size = Vector2i(673, 1200)
render_target_update_mode = 4

[node name="MiniMap" parent="Camera2D/CanvasLayer/SubViewportContainer/SubViewport" node_paths=PackedStringArray("car") instance=ExtResource("2_txe26")]
position = Vector2(342, 600)
car = NodePath("../../../../..")

[node name="VBoxContainer" type="VBoxContainer" parent="Camera2D/CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="Camera2D/CanvasLayer/VBoxContainer"]
layout_mode = 2

[node name="Label2" type="Label" parent="Camera2D/CanvasLayer/VBoxContainer"]
layout_mode = 2

[node name="Label3" type="Label" parent="Camera2D/CanvasLayer/VBoxContainer"]
layout_mode = 2

[node name="Label4" type="Label" parent="Camera2D/CanvasLayer/VBoxContainer"]
layout_mode = 2

[node name="Speed" type="Label" parent="Camera2D/CanvasLayer"]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -189.0
offset_top = -88.0
grow_horizontal = 0
grow_vertical = 0
text = "Speed"

[node name="WheelFL" parent="." node_paths=PackedStringArray("debug_display") instance=ExtResource("3_2iwa8")]
position = Vector2(-90, -100)
debug_display = NodePath("../Camera2D/CanvasLayer/VBoxContainer/Label")
stress_limit = 600

[node name="WheelFR" parent="." node_paths=PackedStringArray("debug_display") instance=ExtResource("3_2iwa8")]
position = Vector2(90, -100)
debug_display = NodePath("../Camera2D/CanvasLayer/VBoxContainer/Label2")
stress_limit = 600

[node name="WheelBL" parent="." node_paths=PackedStringArray("debug_display") instance=ExtResource("3_2iwa8")]
position = Vector2(-90, 100)
debug_display = NodePath("../Camera2D/CanvasLayer/VBoxContainer/Label3")

[node name="WheelBR" parent="." node_paths=PackedStringArray("debug_display") instance=ExtResource("3_2iwa8")]
position = Vector2(90, 100)
debug_display = NodePath("../Camera2D/CanvasLayer/VBoxContainer/Label4")

[node name="Body" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_dnn4g")

[node name="Car" type="Sprite2D" parent="Body"]
texture = ExtResource("1_eww5f")

[node name="CenterOfMass" type="Node2D" parent="."]
